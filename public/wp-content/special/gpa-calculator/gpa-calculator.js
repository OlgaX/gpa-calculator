!function(a){function e(t){if(l[t])return l[t].exports;var o=l[t]={exports:{},id:t,loaded:!1};return a[t].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var t=window.webpackJsonp;window.webpackJsonp=function(l,s){for(var r,c,g=0,d=[];g<l.length;g++)c=l[g],o[c]&&d.push.apply(d,o[c]),o[c]=0;for(r in s)a[r]=s[r];for(t&&t(l,s);d.length;)d.shift().call(null,e)};var l={},o={1:0};return e.e=function(a,t){if(0===o[a])return t.call(null,e);if(void 0!==o[a])o[a].push(t);else{o[a]=[t];var l=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.src=e.p+""+a+".gpa-calculator.js",l.appendChild(s)}},e.m=a,e.c=l,e.p="/gpa-calculator/public/wp-content/special/gpa-calculator/",e(0)}([function(a,e,t){t.e(0,function(a){(function(e,t){var l=[a(2),a(1),a(7)];(function(){a(10),function(e){function t(){var a={options:f.grade,optgroups:[{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"D",label:"D"},{value:"F",label:"F"}],valueField:"value",labelField:"label",searchField:"label",sortField:"id",optgroupField:"group",plugins:["optgroup_columns"]};e("[data-gpa-college=grade], [data-gpa-hschool=grade]",e(this)).selectize(a);var t={options:f.courses,valueField:"id",labelField:"label",searchField:"label",create:!0};e("[data-gpa-hschool=courses]",e(this)).selectize(t);var l={options:f.course_types,valueField:"value",labelField:"label",searchField:"label"};return e("[data-gpa-hschool=course-types]",e(this)).selectize(l),{init:function(o){e(o).find("[data-gpa-college=grade], [data-gpa-hschool=grade]").selectize(a),e(o).find("[data-gpa-hschool=courses]").selectize(t),e(o).find("[data-gpa-hschool=course-types]").selectize(l)}}}function l(){var a=e(this).closest("[data-gpa-college=form-wrap]").find("[data-gpa-college=classes-wrap]"),t={class_id:++a.children().length,grade:f.grade},l=v.college_class(t);l=e("<div/>").html(l).contents(),a.append(l),m&&m.init(l)}function o(a){var t=e(this).closest("[data-gpa-college=semesters-wrap]"),l={semester_id:++a.data.semester_id,grade:f.grade,tpl_class:v.college_class},o=v.college_semester(l);o=e("<div/>").html(o).contents(),t.append(o),e(this).text("Remove semester").removeAttr("data-gpa-college").attr("data-gpa-college","remove-semester-btn");var s=a.data.target.data("gpa");s.is_sent_email||e("[data-gpa-college=result-block]",t).addClass("gpa-result-disabled"),s.is_sent_email&&t.children().length>1&&e("[data-gpa-college=common-result-block]",t).show().find("[data-gpa-college=common-result]").text(s.common_result),m&&m.init(o)}function s(){var a=e(this).closest("[data-gpa-college=semester]"),t=a.closest("[data-gpa-calculator=college]");a.remove(),1===t.find("[data-gpa-college=semesters-wrap]").children().length&&e("[data-gpa-college=common-result-block]",t).hide()}function r(a){var t=a.data&&a.data.calculate_common_result;if(t)var l=a.data.target.data("gpa"),o=a.data.target.data("gpa").target.find("[data-gpa-calculator=college]"),s=e("[data-gpa-college=common-result]",o);else var o=e(this).closest("[data-gpa-college=form-wrap]"),s=e("[data-gpa-college=result]",o);var r={};r.grade=[],r.credits=[],e("[data-gpa-college=fields-row]",o).each(function(a,t){r.grade[a]=+e("[data-gpa-college=grade]",this).val(),r.credits[a]=+e("[data-gpa-college=credits]",this).val()});for(var c=r.grade.length,g=0,d=0,i=0;c;)c--,r.grade[c]&&r.credits[c]&&(g+=r.grade[c]*r.credits[c],d+=r.credits[c]);i=Math.round(100*parseFloat(g/d))/100||0,i=i.toFixed(2),s.text(i),t&&(l.common_result=i)}function c(a){return/[0-9]/.test(String.fromCharCode(a.charCode))}function g(){var a=e(this).closest("[data-gpa-hschool=form-wrap]").find("[data-gpa-hschool=courses-wrap]"),t={grade:f.grade,courses:f.courses,course_types:f.course_types,course_id:++a.children().length},l=v.hschool_course(t);l=e("<div/>").html(l).contents(),a.append(l),m&&m.init(l)}function d(){var a=e(this).closest("[data-gpa-hschool=form-wrap]"),t={};t.grade=[],t.course_types=[];var l=a.find("[data-gpa-hschool=courses-wrap]");e("[data-gpa-hschool=fields-row]",l).each(function(a,l){t.grade[a]=+e("[data-gpa-hschool=grade]",this).val(),t.course_types[a]=+e("[data-gpa-hschool=course-types]",this).val()});for(var o=t.grade.length,s=0,r=0,c=0;o;)o--,t.grade[o]&&(s+=t.grade[o]+t.course_types[o],r+=1);c=Math.round(100*parseFloat(s/r))/100||0,c=c.toFixed(2),e("[data-gpa-hschool=result]",a).text(c)}function i(a){var t=a.data.target.data("gpa");if(t.is_sent_email)return!1;var l=e(this).attr("data-gpa-college")?"data-gpa-college":"data-gpa-hschool",o=e(this).closest("["+l+"=form-wrap]"),s=v.email;s=e("<div/>").html(s).contents(),e("["+l+"=calculate-btn]",o).hide().after(s)}function p(a){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(a)}function n(a){var t=a.data.target.data("gpa"),l=e(this),o=l.closest("[data-gpa=email-wrap]");return p(l.val())?(o.removeClass("gpa-invalid-email"),e("[data-gpa=email-msg]",o).hide(),e("[data-gpa=email-send-btn]",o).removeAttr("disabled"),t.is_valid_email=!0):(o.addClass("gpa-invalid-email"),e("[data-gpa=email-msg]",o).show(),e("[data-gpa=email-send-btn]",o).attr("disabled","disabled"),t.is_valid_email=!1)}function h(a){var t=e(this).attr("data-gpa-college")?"data-gpa-college":"data-gpa-hschool",l=e(this).closest("["+t+"=form-wrap]"),o=+l.find("["+t+"=result]").text(),s=l.find("["+t+"=fields-row]").first(),r=e("["+t+"=grade], ["+t+"=credits], ["+t+"=courses], ["+t+"=course-types]",s);return o&&"hide"===a.data.error?(r.removeClass("gpa-empty-data"),!0):(o||"show"!==a.data.error||r.addClass("gpa-empty-data"),!1)}function u(a){var t=a.data.target.data("gpa");if(!t.is_valid_email)return!1;var l=e(this).closest("[data-gpa-calculator]"),o=e(this).closest("[data-gpa=email-wrap]").find("[data-gpa=email]").val(),s=l.attr("data-gpa-calculator"),r=l.find("[data-gpa-college=common-result]").first().text()||l.find("[data-gpa-hschool=result]").text();e.ajax({url:"/wp-content/special/save-leads.php",method:"POST",data:{email:o,form:s,result:r}}).done(function(){var a=t.target;return e("[data-gpa-college=calculate-btn], [data-gpa-hschool=calculate-btn]",a).show(),e("[data-gpa-college=result-block], [data-gpa-hschool=result-block]",a).removeClass("gpa-result-disabled"),a.find("[data-gpa-college=semester]").length>1&&e("[data-gpa-college=common-result-block]",a).show(),e("[data-gpa=email-wrap]",a).remove(),localStorage.setItem("gpa_is_sent_email",JSON.stringify(!0)),t.is_sent_email=!0})}var m,f={grade:a(19),courses:a(18),course_types:a(17)},v={college:a(13),college_class:a(11),college_semester:a(12),hschool:a(16),hschool_course:a(15),email:a(14)},_={init:function(a){var p=e.extend({form:"college"},a);return this.each(function(){var a=e(this),_=a.data("gpa");if(_)return!1;a.data("gpa",{target:a,is_sent_email:JSON.parse(localStorage.getItem("gpa_is_sent_email"))||!1,is_valid_email:!1,common_result:"",semester_id:1});var b=e("<div/>");if(_=a.data("gpa"),"college"===p.form||"all-widgets"===p.form){var w=v.college,y={grade:f.grade,tpl_semester:v.college_semester,tpl_class:v.college_class};b.append(w(y)),a.on("click.gpa","[data-gpa-college=add-class-btn]",l);var y={target:_.target,semester_id:_.semester_id};a.on("click.gpa","[data-gpa-college=add-semester-btn]",y,o),a.on("click.gpa","[data-gpa-college=remove-semester-btn]",s),a.on("change.gpa","[data-gpa-college=grade], [data-gpa-college=credits]",r),a.on("click.gpa","[data-gpa-college=calculate-btn], [data-gpa=email-send-btn]",r);var y={target:_.target,calculate_common_result:!0};a.on("change.gpa","[data-gpa-college=grade], [data-gpa-college=credits]",y,r),a.on("click.gpa","[data-gpa-college=calculate-btn], [data-gpa-college=remove-semester-btn]",y,r),a.on("keypress.gpa","[data-gpa-college=credits]",c)}if("high-school"===p.form||"all-widgets"===p.form){var k=v.hschool,y={grade:f.grade,courses:f.courses,course_types:f.course_types,tpl_course:v.hschool_course};b.append(k(y)),a.on("click.gpa","[data-gpa-hschool=add-course-btn]",g),a.on("change.gpa","[data-gpa-hschool=grade], [data-gpa-hschool=course-types]",d),a.on("click.gpa","[data-gpa-hschool=calculate-btn]",d)}var y={error:"show"};a.on("click.gpa","[data-gpa-college=calculate-btn], [data-gpa-hschool=calculate-btn]",y,h);var y={error:"hide"};if(a.on("change.gpa","[data-gpa-college=grade], [data-gpa-college=credits], [data-gpa-hschool=grade], [data-gpa-hschool=course-types]",y,h),!_.is_sent_email){e("[data-gpa-college=result-block], [data-gpa-hschool=result-block]",b).addClass("gpa-result-disabled");var y={target:_.target};a.on("click.gpa","[data-gpa-college=calculate-btn], [data-gpa-hschool=calculate-btn]",y,i);var y={target:_.target};a.on("keyup.gpa","[data-gpa=email]",y,n);var y={target:_.target};a.on("click.gpa","[data-gpa=email-send-btn]",y,u),a.on("keydown.gpa","[data-gpa=email]",y,function(a){13===a.keyCode&&u.bind(this)(a)})}a.html(b.contents()),m=t.bind(a)()})}};e.fn.gpaCalculator=function(a){return _[a]?_[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void e.error("Method "+a+" does not exist on jQuery.gpaCalculator"):_.init.apply(this,arguments)}}(e),t("#gpa-college, .gpa-college").gpaCalculator({form:"college"}),t("#gpa-high-school, .gpa-high-school").gpaCalculator({form:"high-school"}),t("#gpa-all-widgets, .gpa-all-widgets").gpaCalculator({form:"all-widgets"})}).apply(null,l)}).call(this,a(1),a(1))})}]);
//# sourceMappingURL=gpa-calculator.js.map